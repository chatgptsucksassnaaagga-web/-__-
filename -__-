local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local RELAY_URL = "https://YOUR_RELAY_URL/servers"
local PLACE_ID = game.PlaceId

local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local main = Instance.new("Frame")
main.Size = UDim2.fromScale(0.36, 0.55)
main.Position = UDim2.fromScale(0.32, 0.22)
main.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
main.BorderSizePixel = 0
main.Parent = gui
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)
local ms = Instance.new("UIStroke", main)
ms.Color = Color3.fromRGB(160, 40, 40)
ms.Thickness = 2

local sidebar = Instance.new("Frame")
sidebar.Size = UDim2.fromScale(0.28, 1)
sidebar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
sidebar.BorderSizePixel = 0
sidebar.Parent = main

local header = Instance.new("TextLabel")
header.Size = UDim2.fromScale(1, 0.16)
header.BackgroundTransparency = 1
header.Text = "Krypth AJ"
header.Font = Enum.Font.GothamBold
header.TextSize = 22
header.TextColor3 = Color3.fromRGB(255, 255, 255)
header.Parent = sidebar

local nav = Instance.new("Frame")
nav.Size = UDim2.fromScale(1, 0.3)
nav.Position = UDim2.fromScale(0, 0.2)
nav.BackgroundTransparency = 1
nav.Parent = sidebar

local navLayout = Instance.new("UIListLayout", nav)
navLayout.Padding = UDim.new(0, 10)
navLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

local function navButton(text)
	local b = Instance.new("TextButton")
	b.Size = UDim2.fromScale(0.85, 0.28)
	b.BackgroundColor3 = Color3.fromRGB(140, 30, 30)
	b.Text = text
	b.Font = Enum.Font.GothamBold
	b.TextSize = 14
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.BorderSizePixel = 0
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 8)
	return b
end

local autoJoinBtn = navButton("AUTOJOIN")
autoJoinBtn.Parent = nav

local activityBtn = navButton("ACTIVITY")
activityBtn.Parent = nav

local content = Instance.new("Frame")
content.Size = UDim2.fromScale(0.72, 1)
content.Position = UDim2.fromScale(0.28, 0)
content.BackgroundColor3 = Color3.fromRGB(5, 5, 5)
content.BorderSizePixel = 0
content.Parent = main

local topBar = Instance.new("Frame")
topBar.Size = UDim2.fromScale(1, 0.12)
topBar.BackgroundTransparency = 1
topBar.Parent = content

local title = Instance.new("TextLabel")
title.Size = UDim2.fromScale(0.6, 1)
title.BackgroundTransparency = 1
title.Text = "ACTIVITY"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Position = UDim2.fromScale(0.04, 0)
title.Parent = topBar

local clear = Instance.new("TextButton")
clear.Size = UDim2.fromScale(0.25, 0.55)
clear.Position = UDim2.fromScale(0.7, 0.22)
clear.BackgroundColor3 = Color3.fromRGB(140, 30, 30)
clear.Text = "CLEAR ALL"
clear.Font = Enum.Font.GothamBold
clear.TextSize = 13
clear.TextColor3 = Color3.fromRGB(255, 255, 255)
clear.BorderSizePixel = 0
Instance.new("UICorner", clear).CornerRadius = UDim.new(0, 8)
clear.Parent = topBar

local listFrame = Instance.new("ScrollingFrame")
listFrame.Size = UDim2.fromScale(0.92, 0.82)
listFrame.Position = UDim2.fromScale(0.04, 0.14)
listFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
listFrame.ScrollBarImageTransparency = 1
listFrame.BackgroundTransparency = 1
listFrame.Parent = content

local listLayout = Instance.new("UIListLayout", listFrame)
listLayout.Padding = UDim.new(0, 12)

listLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	listFrame.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y + 10)
end)

local function serverCard(data)
	local card = Instance.new("Frame")
	card.Size = UDim2.fromScale(1, 0.22)
	card.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	card.BorderSizePixel = 0
	Instance.new("UICorner", card).CornerRadius = UDim.new(0, 10)
	local cs = Instance.new("UIStroke", card)
	cs.Color = Color3.fromRGB(140, 30, 30)

	local txt = Instance.new("TextLabel")
	txt.Size = UDim2.fromScale(0.65, 0.6)
	txt.Position = UDim2.fromScale(0.05, 0.1)
	txt.BackgroundTransparency = 1
	txt.TextWrapped = true
	txt.TextXAlignment = Enum.TextXAlignment.Left
	txt.Text = "MPS: "..data.mps
	txt.Font = Enum.Font.Gotham
	txt.TextSize = 14
	txt.TextColor3 = Color3.fromRGB(230, 230, 230)
	txt.Parent = card

	local join = Instance.new("TextButton")
	join.Size = UDim2.fromScale(0.22, 0.32)
	join.Position = UDim2.fromScale(0.72, 0.15)
	join.BackgroundColor3 = Color3.fromRGB(40, 160, 80)
	join.Text = "JOIN"
	join.Font = Enum.Font.GothamBold
	join.TextSize = 13
	join.TextColor3 = Color3.fromRGB(255, 255, 255)
	join.BorderSizePixel = 0
	Instance.new("UICorner", join).CornerRadius = UDim.new(0, 6)
	join.Parent = card

	local del = Instance.new("TextButton")
	del.Size = UDim2.fromScale(0.22, 0.32)
	del.Position = UDim2.fromScale(0.72, 0.55)
	del.BackgroundColor3 = Color3.fromRGB(160, 40, 40)
	del.Text = "DEL"
	del.Font = Enum.Font.GothamBold
	del.TextSize = 13
	del.TextColor3 = Color3.fromRGB(255, 255, 255)
	del.BorderSizePixel = 0
	Instance.new("UICorner", del).CornerRadius = UDim.new(0, 6)
	del.Parent = card

	join.MouseButton1Click:Connect(function()
		TeleportService:TeleportToPlaceInstance(PLACE_ID, data.jobId, player)
	end)

	del.MouseButton1Click:Connect(function()
		card:Destroy()
	end)

	return card
end

local function loadServers()
	for _, c in ipairs(listFrame:GetChildren()) do
		if c:IsA("Frame") then c:Destroy() end
	end

	local ok, data = pcall(function()
		return HttpService:JSONDecode(game:HttpGet(RELAY_URL))
	end)

	if not ok then return end

	table.sort(data, function(a, b)
		return (a.mps or 0) > (b.mps or 0)
	end)

	for _, s in ipairs(data) do
		if s.placeId == PLACE_ID then
			serverCard(s).Parent = listFrame
		end
	end
end

autoJoinBtn.MouseButton1Click:Connect(loadServers)
clear.MouseButton1Click:Connect(function()
	for _, c in ipairs(listFrame:GetChildren()) do
		if c:IsA("Frame") then c:Destroy() end
	end
end)

UserInputService.InputBegan:Connect(function(i, g)
	if g then return end
	if i.KeyCode == Enum.KeyCode.LeftControl then
		gui.Enabled = not gui.Enabled
	end
end)

loadServers()

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local RELAY_URL = "https://YOUR_RELAY_URL/servers"
local PLACE_ID = game.PlaceId

local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local root = Instance.new("Frame")
root.Size = UDim2.fromScale(0.38, 0.75)
root.Position = UDim2.fromScale(0.31, 0.12)
root.BackgroundColor3 = Color3.fromRGB(10, 10, 12)
root.BorderSizePixel = 0
root.Parent = gui
Instance.new("UICorner", root).CornerRadius = UDim.new(0, 14)

local sidebar = Instance.new("Frame")
sidebar.Size = UDim2.fromScale(0.22, 1)
sidebar.BackgroundColor3 = Color3.fromRGB(14, 14, 18)
sidebar.BorderSizePixel = 0
sidebar.Parent = root

local sideStroke = Instance.new("UIStroke", sidebar)
sideStroke.Color = Color3.fromRGB(120, 40, 40)
sideStroke.Thickness = 1

local logo = Instance.new("TextLabel")
logo.Size = UDim2.fromScale(1, 0.12)
logo.BackgroundTransparency = 1
logo.Text = "KRYPTH\nAJ"
logo.Font = Enum.Font.GothamBold
logo.TextSize = 20
logo.TextColor3 = Color3.fromRGB(240, 240, 240)
logo.Parent = sidebar

local sideList = Instance.new("UIListLayout", sidebar)
sideList.Padding = UDim.new(0, 12)
sideList.VerticalAlignment = Enum.VerticalAlignment.Top

local function sideButton(text)
	local b = Instance.new("TextButton")
	b.Size = UDim2.fromScale(0.86, 0.065)
	b.Position = UDim2.fromScale(0.07, 0)
	b.BackgroundColor3 = Color3.fromRGB(120, 40, 40)
	b.Text = text
	b.Font = Enum.Font.GothamMedium
	b.TextSize = 13
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.BorderSizePixel = 0
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 8)
	return b
end

local autoBtn = sideButton("AUTO JOIN")
autoBtn.Parent = sidebar

local refreshBtn = sideButton("REFRESH")
refreshBtn.Parent = sidebar

local clearBtn = sideButton("CLEAR LOGS")
clearBtn.Parent = sidebar

local main = Instance.new("Frame")
main.Size = UDim2.fromScale(0.78, 1)
main.Position = UDim2.fromScale(0.22, 0)
main.BackgroundColor3 = Color3.fromRGB(8, 8, 10)
main.BorderSizePixel = 0
main.Parent = root

local header = Instance.new("Frame")
header.Size = UDim2.fromScale(1, 0.1)
header.BackgroundTransparency = 1
header.Parent = main

local headerText = Instance.new("TextLabel")
headerText.Size = UDim2.fromScale(1, 1)
headerText.BackgroundTransparency = 1
headerText.Text = "SERVER ACTIVITY"
headerText.Font = Enum.Font.GothamSemibold
headerText.TextSize = 16
headerText.TextColor3 = Color3.fromRGB(210, 210, 210)
headerText.Parent = header

local feed = Instance.new("ScrollingFrame")
feed.Size = UDim2.fromScale(0.92, 0.86)
feed.Position = UDim2.fromScale(0.04, 0.12)
feed.CanvasSize = UDim2.new()
feed.ScrollBarImageTransparency = 1
feed.BackgroundTransparency = 1
feed.Parent = main

local feedLayout = Instance.new("UIListLayout", feed)
feedLayout.Padding = UDim.new(0, 10)

feedLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	feed.CanvasSize = UDim2.new(0, 0, 0, feedLayout.AbsoluteContentSize.Y + 10)
end)

local function logCard(data)
	local f = Instance.new("Frame")
	f.Size = UDim2.fromScale(1, 0.11)
	f.BackgroundColor3 = Color3.fromRGB(16, 16, 20)
	f.BorderSizePixel = 0
	Instance.new("UICorner", f).CornerRadius = UDim.new(0, 10)

	local s = Instance.new("UIStroke", f)
	s.Color = Color3.fromRGB(120, 40, 40)
	s.Thickness = 1

	local txt = Instance.new("TextLabel")
	txt.Size = UDim2.fromScale(0.68, 1)
	txt.Position = UDim2.fromScale(0.04, 0)
	txt.BackgroundTransparency = 1
	txt.TextXAlignment = Enum.TextXAlignment.Left
	txt.TextWrapped = true
	txt.Text = "MPS "..data.mps.." | "..data.players.."/"..data.maxPlayers
	txt.Font = Enum.Font.Gotham
	txt.TextSize = 13
	txt.TextColor3 = Color3.fromRGB(235, 235, 235)
	txt.Parent = f

	local join = Instance.new("TextButton")
	join.Size = UDim2.fromScale(0.22, 0.38)
	join.Position = UDim2.fromScale(0.73, 0.12)
	join.BackgroundColor3 = Color3.fromRGB(50, 150, 90)
	join.Text = "JOIN"
	join.Font = Enum.Font.GothamMedium
	join.TextSize = 12
	join.TextColor3 = Color3.fromRGB(255, 255, 255)
	join.BorderSizePixel = 0
	Instance.new("UICorner", join).CornerRadius = UDim.new(0, 8)
	join.Parent = f

	local del = Instance.new("TextButton")
	del.Size = UDim2.fromScale(0.22, 0.38)
	del.Position = UDim2.fromScale(0.73, 0.52)
	del.BackgroundColor3 = Color3.fromRGB(150, 45, 45)
	del.Text = "DEL"
	del.Font = Enum.Font.GothamMedium
	del.TextSize = 12
	del.TextColor3 = Color3.fromRGB(255, 255, 255)
	del.BorderSizePixel = 0
	Instance.new("UICorner", del).CornerRadius = UDim.new(0, 8)
	del.Parent = f

	join.MouseButton1Click:Connect(function()
		TeleportService:TeleportToPlaceInstance(PLACE_ID, data.jobId, player)
	end)

	del.MouseButton1Click:Connect(function()
		f:Destroy()
	end)

	return f
end

local function load()
	for _, c in ipairs(feed:GetChildren()) do
		if c:IsA("Frame") then c:Destroy() end
	end

	local ok, data = pcall(function()
		return HttpService:JSONDecode(game:HttpGet(RELAY_URL))
	end)
	if not ok then return end

	table.sort(data, function(a, b)
		return (a.mps or 0) > (b.mps or 0)
	end)

	for _, s in ipairs(data) do
		if s.placeId == PLACE_ID then
			logCard(s).Parent = feed
		end
	end
end

autoBtn.MouseButton1Click:Connect(load)
refreshBtn.MouseButton1Click:Connect(load)
clearBtn.MouseButton1Click:Connect(function()
	for _, c in ipairs(feed:GetChildren()) do
		if c:IsA("Frame") then c:Destroy() end
	end
end)

UserInputService.InputBegan:Connect(function(i, g)
	if g then return end
	if i.KeyCode == Enum.KeyCode.LeftControl then
		gui.Enabled = not gui.Enabled
	end
end)

load()
